{% extends 'service/base.html' %}
{% block content %}
<h1 style='text-align: center;'>スタッフ検索</h1>
<div style="text-align: center;">
    <a href="{% url 'service:index' %}">TOPページに戻る</a>
</div>


<!-- 検索内容の入力 -->
<form id='search_stuff' method="POST">{% csrf_token %}

    <select name="test" id="test" required>
        <option value="man" selected>man</option>
        <option value="woman">woman</option>
    </select>

    <button type="submit">検索</button>
</form>
<!-- 検索内容の入力 -->

<h3>検索結果</h3>

<script>

    const searchStuff = document.getElementById('search_stuff')
    searchStuff.addEventListener('submit', (e) => {
        e.preventDefault()
        const url = '{% url "service:api" %}'
        const test_data = document.getElementById('test')
        // URLのクエリパラメータを管理
        const body = new URLSearchParams()
        body.append('test', test_data.value)

        fetch(url)
            .then((response) => {
                // JSON形式に変換
                return response.json()
            })
            .then((response) => {
                // フォームをクリア
                test_data.value = ''
                // 追加するエレメント

            })
            .catch((error) => {
                console.log(error)
            })
    })

</script>


{% endblock %}